(()=>{var e={};e.id=214,e.ids=[214],e.modules={653:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>d.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=s(4125),t=s(9466),n=s(3940),d=s.n(n),i=s(339),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let o={children:["",{children:["datasets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1998)),"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4723)),"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7376,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,7801,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1318,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/datasets/page",pathname:"/datasets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1325:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,9452,23)),Promise.resolve().then(s.bind(s,7383)),Promise.resolve().then(s.bind(s,5585))},1998:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var a=s(6939),t=s(2861),n=s(7170),d=s.n(n),i=s(5848),l=s(3203),o=s(9142),c=s(2864),u=s(6252),p=s(7519);async function m(){let e=await i.S.GET("/datasets/");if(e.error)return(0,a.jsx)(p.ErrorCard,{error:e.error.detail});let r=e.data;return(0,a.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center space-y-8 py-10",children:[(0,a.jsx)("div",{className:"w-full flex flex-col gap-2",children:(0,a.jsx)("div",{className:"text-lg",children:"Datasets"})}),(0,a.jsxs)(t.XI,{className:"w-full",children:[(0,a.jsx)(t.A0,{children:(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nd,{children:"ID"}),(0,a.jsx)(t.nd,{className:"min-w-[200px]",children:"Name"}),(0,a.jsx)(t.nd,{children:"Created"})]})}),(0,a.jsx)(t.BF,{children:r.map(e=>(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nA,{className:"font-mono text-xs",children:(0,a.jsx)(d(),{href:`/datasets/${e.id}`,children:e.id})}),(0,a.jsx)(t.nA,{children:e.name}),(0,a.jsx)(t.nA,{children:(0,l.v)(e.created_at)})]},e.id))})]}),(0,a.jsx)("div",{className:"w-full flex justify-end gap-2",children:(0,a.jsx)(u.AddDatasetDialog,{children:(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(o.A,{}),"Dataset"]})})})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4859:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"4010b68dd3110a856754a64fa68fad30f7c478289a":()=>d});var a=s(1025);s(7133);var t=s(5705),n=s(5806);async function d(e){let r=e.get("name"),s=e.get("uidColumnName");if(!r)return{success:!1,error:"Name is required"};try{let e=await t.S.POST("/datasets/",{body:{name:r,uid_column_name:s}});if(e.error){let r="Unknown error";return"string"==typeof e.error.detail&&(r=e.error.detail),{success:!1,error:r}}return(0,n.revalidatePath)("/datasets"),{success:!0,data:e.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,s(1221).D)([d]),(0,a.A)(d,"4010b68dd3110a856754a64fa68fad30f7c478289a",null)},6061:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,7170,23)),Promise.resolve().then(s.bind(s,6252)),Promise.resolve().then(s.bind(s,7519))},6252:(e,r,s)=>{"use strict";s.d(r,{AddDatasetDialog:()=>a});let a=(0,s(8445).registerClientReference)(function(){throw Error("Attempted to call AddDatasetDialog() from the server but AddDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/add-dataset-dialog.tsx","AddDatasetDialog")},7383:(e,r,s)=>{"use strict";s.d(r,{AddDatasetDialog:()=>h});var a=s(9777),t=s(8580),n=s(6114),d=s(6787),i=s(7813),l=s(2171),o=s(6887),c=s(459),u=s(116),p=s(605);let m=(0,p.createServerReference)("4010b68dd3110a856754a64fa68fad30f7c478289a",p.callServer,void 0,p.findSourceMapURL,"createDataset");function x(){let{pending:e}=(0,i.useFormStatus)();return(0,a.jsx)(l.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function h({children:e}){let[r,s]=(0,t.useState)(!1),i=(0,t.useRef)(null),l=(0,d.useRouter)(),p=async e=>{let r=await m(e);r.success?(n.oR.success("Dataset added successfully"),s(!1),i.current?.reset(),l.refresh()):n.oR.error(`Failed to add dataset: ${r.error}`)};return(0,a.jsxs)(o.lG,{open:r,onOpenChange:s,children:[(0,a.jsx)(o.zM,{asChild:!0,children:e}),(0,a.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"New dataset"}),(0,a.jsx)(o.rr,{children:"Add a new dataset."})]}),(0,a.jsxs)("form",{ref:i,action:p,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u.J,{htmlFor:"name",className:"text-right",children:"Name"}),(0,a.jsx)(c.p,{id:"name",name:"name",className:"col-span-3",placeholder:"my-dataset",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u.J,{htmlFor:"uidColumnName",className:"text-right",children:"UID Column"}),(0,a.jsx)(c.p,{id:"uidColumnName",name:"uidColumnName",className:"col-span-3",placeholder:"id"})]})]}),(0,a.jsx)(o.Es,{children:(0,a.jsx)(x,{})})]})]})]})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[945,732,229,205,719,634],()=>s(653));module.exports=a})();