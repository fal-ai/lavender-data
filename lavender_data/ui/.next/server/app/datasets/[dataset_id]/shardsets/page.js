(()=>{var e={};e.id=137,e.ids=[137],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8041:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(40871),a=r(30618);let n=({icon:e,content:t})=>(0,s.jsxs)(a.Tooltip,{children:[(0,s.jsx)(a.TooltipTrigger,{asChild:!0,children:e}),(0,s.jsx)(a.TooltipContent,{children:t})]})},10839:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,Es:()=>p,L3:()=>m,c7:()=>h,lG:()=>i,rr:()=>x,zM:()=>d});var s=r(40871);r(65138);var a=r(32506),n=r(98154),o=r(75908);function i({...e}){return(0,s.jsx)(a.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,s.jsx)(a.l9,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,s.jsx)(a.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,s.jsx)(a.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function u({className:e,children:t,...r}){return(0,s.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(a.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,(0,s.jsxs)(a.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function p({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function m({className:e,...t}){return(0,s.jsx)(a.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",e),...t})}function x({className:e,...t}){return(0,s.jsx)(a.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",e),...t})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13804:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var s=r(40871);r(65138);var a=r(8019),n=r(75908);function o({className:e,children:t,...r}){return(0,s.jsxs)(a.bL,{"data-slot":"scroll-area",className:(0,n.cn)("relative",e),...r,children:[(0,s.jsx)(a.LM,{"data-slot":"scroll-area-viewport",className:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1",children:t}),(0,s.jsx)(i,{}),(0,s.jsx)(a.OK,{})]})}function i({className:e,orientation:t="vertical",...r}){return(0,s.jsx)(a.VM,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,n.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:(0,s.jsx)(a.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},17141:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var s=r(40871);r(65138);var a=r(44989),n=r(75908);function o({className:e,...t}){return(0,s.jsx)(a.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},17773:(e,t,r)=>{"use strict";r.d(t,{KU:()=>d,my:()=>l});var s=r(10146),a=r(87080),n=r(77893);let o=()=>process.env.API_URL||"http://localhost:8000",i=async()=>{let e=await (0,a.UL)();return e.get("lavender-data-api-key")?.value},d=async()=>{let e=o(),t=await i();return(0,s.Ay)({baseUrl:e,headers:t?{Authorization:`Basic ${t}`}:{},fetch:async e=>{let t=await fetch(e,{cache:"no-store"});return(401===t.status||403===t.status)&&(0,n.redirect)("/set-api-key"),t}})},l=async e=>{let t=o();return(0,s.Ay)({baseUrl:t,headers:{Authorization:`Basic ${e}`},fetch:async e=>fetch(e,{cache:"no-store"})})}},18529:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>i,Hj:()=>d,XI:()=>n,nA:()=>c,nd:()=>l});var s=r(94829);r(72024);var a=r(77678);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})})}function o({className:e,...t}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...t})}function i({className:e,...t}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t})}function d({className:e,...t}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function l({className:e,...t}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(94829),a=r(36128),n=r.n(a),o=r(65458),i=r(32253),d=r(18529),l=r(72188),c=r(40583),u=r(44155),h=r(40931);r(72024);var p=r(26219),m=r(88606),x=r(77678);let f=(0,m.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function v({className:e,variant:t,asChild:r=!1,...a}){let n=r?p.Slot:"span";return(0,s.jsx)(n,{"data-slot":"badge",className:(0,x.cn)(f({variant:t}),e),...a})}function g({shardset:e}){return e?(0,s.jsxs)(n(),{href:`/datasets/${e.dataset_id}/shardsets/${e.id}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"font-mono text-xs",children:e.id}),e.is_main?(0,s.jsx)(v,{children:"Main"}):null]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.location}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["total ",e.total_samples," samples, ",e.shard_count," shards"]})]}):(0,s.jsx)("div",{children:"-"})}async function b({params:e}){let{dataset_id:t}=await e,r=await (0,l.KU)(),a=await r.GET("/datasets/{dataset_id}",{params:{path:{dataset_id:t}}});if(a.error)return(0,s.jsx)(u.ErrorCard,{error:a.error.detail});let n=a.data,p=n.columns.filter(e=>e.name!==n.uid_column_name).map((e,t)=>({...e,rowSpan:1})).sort((e,t)=>e.shardset_id.localeCompare(t.shardset_id)||e.name.localeCompare(t.name)),m=0;return p.forEach((e,t)=>{e.shardset_id!==p[m].shardset_id?m=t:(p[t].rowSpan=0,p[m].rowSpan++)}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(h.Zp,{className:"w-full",children:(0,s.jsx)(h.Wu,{children:(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nd,{children:"Shardset"}),(0,s.jsx)(d.nd,{className:"w-[100px]",children:"Name"}),(0,s.jsx)(d.nd,{children:"Type"}),(0,s.jsx)(d.nd,{children:"Description"})]})}),(0,s.jsxs)(d.BF,{children:[(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nA,{children:"-"}),(0,s.jsx)(d.nA,{className:"font-mono text-xs",children:n.uid_column_name}),(0,s.jsx)(d.nA,{children:"-"}),(0,s.jsx)(d.nA,{children:"Unique identifier for each sample"})]}),p.map(e=>(0,s.jsxs)(d.Hj,{children:[e.rowSpan>0&&(0,s.jsx)(d.nA,{rowSpan:e.rowSpan,children:(0,s.jsx)(g,{shardset:n.shardsets.find(t=>t.id===e.shardset_id)})}),(0,s.jsx)(d.nA,{className:"font-mono text-xs",children:e.name}),(0,s.jsx)(d.nA,{children:e.type}),(0,s.jsx)(d.nA,{children:e.description})]},e.id))]})]})})}),(0,s.jsx)("div",{className:"w-full flex justify-end",children:(0,s.jsx)(c.AddShardsetDialog,{datasetId:t,children:(0,s.jsxs)(i.$,{variant:"outline",children:[(0,s.jsx)(o.A,{}),"Shardset"]})})})]})}},26219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Root:()=>a,Slot:()=>n,Slottable:()=>o,createSlot:()=>i,createSlottable:()=>d});var s=r(26259);let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call Root() from the server but Root is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-slot@1.2.2_@types+react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs","Root"),n=(0,s.registerClientReference)(function(){throw Error("Attempted to call Slot() from the server but Slot is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-slot@1.2.2_@types+react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs","Slot"),o=(0,s.registerClientReference)(function(){throw Error("Attempted to call Slottable() from the server but Slottable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-slot@1.2.2_@types+react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs","Slottable"),i=(0,s.registerClientReference)(function(){throw Error("Attempted to call createSlot() from the server but createSlot is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-slot@1.2.2_@types+react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs","createSlot"),d=(0,s.registerClientReference)(function(){throw Error("Attempted to call createSlottable() from the server but createSlottable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-slot@1.2.2_@types+react@19.0.10_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs","createSlottable")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32253:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(94829);r(72024);var a=r(26219),n=r(88606),o=r(77678);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:r,asChild:n=!1,...d}){let l=n?a.Slot:"button";return(0,s.jsx)(l,{"data-slot":"button",className:(0,o.cn)(i({variant:t,size:r,className:e})),...d})}},33873:e=>{"use strict";e.exports=require("path")},40583:(e,t,r)=>{"use strict";r.d(t,{AddShardsetDialog:()=>s});let s=(0,r(26259).registerClientReference)(function(){throw Error("Attempted to call AddShardsetDialog() from the server but AddShardsetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/add-shardset-dialog.tsx","AddShardsetDialog")},40931:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>o,Zp:()=>n});var s=r(94829);r(72024);var a=r(77678);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}},46870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>l});var s=r(20863),a=r(38832),n=r(39682),o=r.n(n),i=r(11461),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l={children:["",{children:["datasets",{children:["[dataset_id]",{children:["shardsets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22606)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37374)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,28950)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,94677)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,74595)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,14127)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,58206,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,63447,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,94716,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/shardsets/page",pathname:"/datasets/[dataset_id]/shardsets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},60806:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"60e49b3883dafa994d21274b682480d5af48153456":()=>o});var s=r(6391);r(80127);var a=r(17773),n=r(68288);async function o(e,t){let r=t.get("location"),s=t.get("columnsJson"),o=[];try{o=JSON.parse(s)}catch(e){return{success:!1,error:"Invalid column data"}}if(!r)return{success:!1,error:"Location is required"};if(o.some(e=>""===e.name))return{success:!1,error:"All columns must have a name"};if(o.some(e=>""===e.type))return{success:!1,error:"All columns must have a type"};try{let t=await (await (0,a.KU)()).POST("/datasets/{dataset_id}/shardsets",{params:{path:{dataset_id:e}},body:{location:r,columns:o}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return(0,n.revalidatePath)(`/datasets/${e}`),{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,r(63995).D)([o]),(0,s.A)(o,"60e49b3883dafa994d21274b682480d5af48153456",null)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65458:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(51477).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},68715:(e,t,r)=>{Promise.resolve().then(r.bind(r,65854)),Promise.resolve().then(r.t.bind(r,54574,23)),Promise.resolve().then(r.bind(r,96416)),Promise.resolve().then(r.bind(r,28077))},74291:(e,t,r)=>{Promise.resolve().then(r.bind(r,26219)),Promise.resolve().then(r.t.bind(r,36128,23)),Promise.resolve().then(r.bind(r,40583)),Promise.resolve().then(r.bind(r,44155))},77678:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(11942),a=r(59822);function n(...e){return(0,a.QP)((0,s.$)(e))}},88526:(e,t,r)=>{"use strict";function s(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>s})},88606:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var s=r(11942);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,o=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:i}=t,d=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let n=a(t)||a(s);return o[e][n]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,d,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...l}[t]):({...i,...l})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},96416:(e,t,r)=>{"use strict";r.d(t,{AddShardsetDialog:()=>j});var s=r(40871),a=r(65138),n=r(15376),o=r(22384),i=r(24983),d=r(21895),l=r(13804),c=r(33094),u=r(26123),h=r(10839),p=r(68491),m=r(17141),x=r(8041),f=r(36931);let v=(0,f.createServerReference)("60e49b3883dafa994d21274b682480d5af48153456",f.callServer,void 0,f.findSourceMapURL,"createShardset");function g(){let{pending:e}=(0,d.useFormStatus)();return(0,s.jsx)(u.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function b({index:e,columns:t,setColumns:r}){return(0,s.jsx)("div",{className:"my-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(m.J,{htmlFor:"column-name-"+e,children:"Name"}),(0,s.jsx)(p.p,{id:"column-name-"+e,className:"col-span-3",placeholder:"caption",required:!0,value:t[e].name,onChange:s=>r(t.map((t,r)=>r===e?{...t,name:s.target.value}:t))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(m.J,{htmlFor:"column-type-"+e,children:"Type"}),(0,s.jsx)(p.p,{id:"column-type-"+e,className:"col-span-3",placeholder:"text",required:!0,value:t[e].type,onChange:s=>r(t.map((t,r)=>r===e?{...t,type:s.target.value}:t))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsxs)(m.J,{className:"flex flex-col items-start gap-0",htmlFor:"column-description-"+e,children:[(0,s.jsx)("div",{children:"Description"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),(0,s.jsx)(p.p,{id:"column-description-"+e,className:"col-span-3",placeholder:"A caption for the image",value:t[e].description??"",onChange:s=>r(t.map((t,r)=>r===e?{...t,description:s.target.value}:t))})]})]})})}function j({datasetId:e,children:t}){let[r,d]=(0,a.useState)(""),[f,j]=(0,a.useState)([]),[y,w]=(0,a.useState)(!1),_=(0,a.useRef)(null),N=async t=>{t.set("columnsJson",JSON.stringify(f));let r=await v(e,t);r.success?(i.oR.success("Shardset added successfully"),w(!1),d(""),j([]),_.current?.reset()):i.oR.error(`Failed to add shardset: ${r.error}`)};return(0,s.jsxs)(h.lG,{open:y,onOpenChange:w,children:[(0,s.jsx)(h.zM,{asChild:!0,children:t}),(0,s.jsxs)(h.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(h.c7,{children:[(0,s.jsx)(h.L3,{children:"New shardset"}),(0,s.jsx)(h.rr,{children:"Add a new shardset with columns to the dataset."})]}),(0,s.jsxs)("form",{ref:_,action:N,children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsx)("div",{className:"text-lg mt-2",children:"Shardset"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(m.J,{htmlFor:"location",className:"text-right",children:"Location"}),(0,s.jsx)(p.p,{id:"location",name:"location",className:"col-span-3",placeholder:"s3://bucket/path/to/shardset/",required:!0,value:r,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"text-lg mt-2 flex gap-2 items-center",children:[(0,s.jsx)("div",{children:"Columns"}),(0,s.jsx)(x.F,{icon:(0,s.jsx)(n.A,{className:"w-4 h-4"}),content:(0,s.jsxs)("p",{children:["If you have at least one shard in the location, the columns will be inferred from the shard. ",(0,s.jsx)("br",{}),"Please specify columns if you want to override them or if you don't have any shards yet."]})})]}),(0,s.jsx)(l.F,{className:"max-h-[200px]",children:f.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(b,{index:t,columns:f,setColumns:j}),(0,s.jsx)(c.w,{className:"my-2"})]},t))}),(0,s.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>j([...f,{name:"",type:""}]),children:[(0,s.jsx)(o.A,{}),"Add Column"]})]}),(0,s.jsx)(h.Es,{children:(0,s.jsx)(g,{})})]})]})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[294,94,562,543,751,585,599,247,463,966],()=>r(46870));module.exports=s})();