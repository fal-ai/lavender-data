(()=>{var e={};e.id=547,e.ids=[547],e.modules={2263:(e,t,r)=>{var n=r(11089),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4495:(e,t,r)=>{"use strict";function n(e){return new Date(e+(e.endsWith("Z")?"":"Z")).toLocaleString()}r.d(t,{v:()=>n})},6049:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(1176);r(93929);var s=r(24449),a=r(58792);function o({className:e,...t}){return(0,n.jsx)(s.b,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11057:(e,t,r)=>{"use strict";r.d(t,{AddShardsetDialog:()=>b});var n=r(1176),s=r(93929),a=r(64684),o=r(18388),l=r(16659),i=r(83980),c=r(83169),d=r(87202),u=r(3391),p=r(24979),h=r(67495),f=r(6049),m=r(88157),x=r(73816);let v=(0,x.createServerReference)("60d86ab8ab4f9e375fa5e2bd8815107c9eb0421d72",x.callServer,void 0,x.findSourceMapURL,"createShardset");function g(){let{pending:e}=(0,i.useFormStatus)();return(0,n.jsx)(u.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function j({index:e,columns:t,setColumns:r}){return(0,n.jsx)("div",{className:"my-4",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"column-name-"+e,children:"Name"}),(0,n.jsx)(h.p,{id:"column-name-"+e,className:"col-span-3",placeholder:"caption",required:!0,value:t[e].name,onChange:n=>r(t.map((t,r)=>r===e?{...t,name:n.target.value}:t))})]}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"column-type-"+e,children:"Type"}),(0,n.jsx)(h.p,{id:"column-type-"+e,className:"col-span-3",placeholder:"text",required:!0,value:t[e].type,onChange:n=>r(t.map((t,r)=>r===e?{...t,type:n.target.value}:t))})]}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsxs)(f.J,{className:"flex flex-col items-start gap-0",htmlFor:"column-description-"+e,children:[(0,n.jsx)("div",{children:"Description"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),(0,n.jsx)(h.p,{id:"column-description-"+e,className:"col-span-3",placeholder:"A caption for the image",value:t[e].description??"",onChange:n=>r(t.map((t,r)=>r===e?{...t,description:n.target.value}:t))})]})]})})}function b({datasetId:e,children:t}){let[r,i]=(0,s.useState)(""),[x,b]=(0,s.useState)([]),[w,y]=(0,s.useState)(!1),S=(0,s.useRef)(null),N=async t=>{t.set("columnsJson",JSON.stringify(x));let r=await v(e,t);r.success?(l.oR.success("Shardset added successfully"),y(!1),i(""),b([]),S.current?.reset()):l.oR.error(`Failed to add shardset: ${r.error}`)};return(0,n.jsxs)(p.lG,{open:w,onOpenChange:y,children:[(0,n.jsx)(p.zM,{asChild:!0,children:t}),(0,n.jsxs)(p.Cf,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(p.c7,{children:[(0,n.jsx)(p.L3,{children:"New shardset"}),(0,n.jsx)(p.rr,{children:"Add a new shardset with columns to the dataset."})]}),(0,n.jsxs)("form",{ref:S,action:N,children:[(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsx)("div",{className:"text-lg mt-2",children:"Shardset"}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"location",className:"text-right",children:"Location"}),(0,n.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"s3://bucket/path/to/shardset/",required:!0,value:r,onChange:e=>i(e.target.value)})]}),(0,n.jsxs)("div",{className:"text-lg mt-2 flex gap-2 items-center",children:[(0,n.jsx)("div",{children:"Columns"}),(0,n.jsx)(m.F,{icon:(0,n.jsx)(a.A,{className:"w-4 h-4"}),content:(0,n.jsxs)("p",{children:["If you have at least one shard in the location, the columns will be inferred from the shard. ",(0,n.jsx)("br",{}),"Please specify columns if you want to override them or if you don't have any shards yet."]})})]}),(0,n.jsx)(c.F,{className:"max-h-[200px]",children:x.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(j,{index:t,columns:x,setColumns:b}),(0,n.jsx)(d.w,{className:"my-2"})]},t))}),(0,n.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>b([...x,{name:"",type:""}]),children:[(0,n.jsx)(o.A,{}),"Add Column"]})]}),(0,n.jsx)(p.Es,{children:(0,n.jsx)(g,{})})]})]})]})}},11089:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},14668:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},18388:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(36259).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21029:(e,t,r)=>{var n=r(39878);e.exports=function(e){return"number"==typeof e&&e==n(e)}},24979:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,Es:()=>h,L3:()=>f,c7:()=>p,lG:()=>l,rr:()=>m,zM:()=>i});var n=r(1176);r(93929);var s=r(38830),a=r(24278),o=r(58792);function l({...e}){return(0,n.jsx)(s.bL,{"data-slot":"dialog",...e})}function i({...e}){return(0,n.jsx)(s.l9,{"data-slot":"dialog-trigger",...e})}function c({...e}){return(0,n.jsx)(s.ZL,{"data-slot":"dialog-portal",...e})}function d({className:e,...t}){return(0,n.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function u({className:e,children:t,...r}){return(0,n.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,n.jsx)(d,{}),(0,n.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,(0,n.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(a.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function p({className:e,...t}){return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function h({className:e,...t}){return(0,n.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function f({className:e,...t}){return(0,n.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",e),...t})}function m({className:e,...t}){return(0,n.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",e),...t})}},27505:(e,t,r)=>{Promise.resolve().then(r.bind(r,85107)),Promise.resolve().then(r.bind(r,94729)),Promise.resolve().then(r.t.bind(r,34169,23)),Promise.resolve().then(r.bind(r,61905)),Promise.resolve().then(r.bind(r,80273)),Promise.resolve().then(r.bind(r,54024)),Promise.resolve().then(r.bind(r,74723)),Promise.resolve().then(r.bind(r,87388))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30101:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},33873:e=>{"use strict";e.exports=require("path")},34129:(e,t,r)=>{Promise.resolve().then(r.bind(r,84322)),Promise.resolve().then(r.bind(r,78950)),Promise.resolve().then(r.t.bind(r,78019,23)),Promise.resolve().then(r.bind(r,11057)),Promise.resolve().then(r.bind(r,55030)),Promise.resolve().then(r.bind(r,43818)),Promise.resolve().then(r.bind(r,15649)),Promise.resolve().then(r.bind(r,15078))},39466:(e,t,r)=>{var n=r(54126),s=Object.prototype,a=s.hasOwnProperty,o=s.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var s=o.call(e);return n&&(t?e[l]=r:delete e[l]),s}},39878:(e,t,r)=>{var n=r(82797);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},41079:(e,t,r)=>{var n=r(82567),s=r(48535);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==n(e)}},42242:(e,t,r)=>{var n=r(42995),s="object"==typeof self&&self&&self.Object===Object&&self;e.exports=n||s||Function("return this")()},42995:e=>{e.exports="object"==typeof global&&global&&global.Object===Object&&global},43314:(e,t,r)=>{"use strict";function n(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>n})},43818:(e,t,r)=>{"use strict";r.d(t,{PreprocessDatasetDialog:()=>tj});var n=r(1176),s=r(93929),a=r(18388),o=r(64684),l=r(16659),i=r(83980),c=r(83169),d=r(87202),u=r(3391),p=r(24979),h=r(67495),f=r(6049),m=r(88157),x=r(43314),v=r(20169),g=r(70336),j=r(92438),b=r(14504),w=r(47441),y=r(80088),S=0;function N(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var C=r(47948),E=r(73737),T="focusScope.autoFocusOnMount",k="focusScope.autoFocusOnUnmount",P={bubbles:!1,cancelable:!0},_=s.forwardRef((e,t)=>{let{loop:r=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...i}=e,[c,d]=s.useState(null),u=(0,E.c)(o),p=(0,E.c)(l),h=s.useRef(null),f=(0,j.s)(t,e=>d(e)),m=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(a){let e=function(e){if(m.paused||!c)return;let t=e.target;c.contains(t)?h.current=t:D(h.current,{select:!0})},t=function(e){if(m.paused||!c)return;let t=e.relatedTarget;null===t||c.contains(t)||D(h.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&D(c)});return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,c,m.paused]),s.useEffect(()=>{if(c){L.add(m);let e=document.activeElement;if(!c.contains(e)){let t=new CustomEvent(T,P);c.addEventListener(T,u),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(D(n,{select:t}),document.activeElement!==r)return}(A(c).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&D(c))}return()=>{c.removeEventListener(T,u),setTimeout(()=>{let t=new CustomEvent(k,P);c.addEventListener(k,p),c.dispatchEvent(t),t.defaultPrevented||D(e??document.body,{select:!0}),c.removeEventListener(k,p),L.remove(m)},0)}}},[c,u,p,m]);let x=s.useCallback(e=>{if(!r&&!a||m.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[s,a]=function(e){let t=A(e);return[R(t,e),R(t.reverse(),e)]}(t);s&&a?e.shiftKey||n!==a?e.shiftKey&&n===s&&(e.preventDefault(),r&&D(a,{select:!0})):(e.preventDefault(),r&&D(s,{select:!0})):n===t&&e.preventDefault()}},[r,a,m.paused]);return(0,n.jsx)(C.sG.div,{tabIndex:-1,...i,ref:f,onKeyDown:x})});function A(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function R(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function D(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}_.displayName="FocusScope";var L=function(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=I(e,t)).unshift(t)},remove(t){e=I(e,t),e[0]?.resume()}}}();function I(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var z=r(91905),M=r(37687),F=r(87429),O=r(74259),H=r(71425),U=r(3515),q=r(73643),B=r(9553),G=r(15794),W=[" ","Enter","ArrowUp","ArrowDown"],$=[" ","Enter"],K="Select",[J,V,X]=(0,g.N)(K),[Y,Z]=(0,b.A)(K,[X,M.Bk]),Q=(0,M.Bk)(),[ee,et]=Y(K),[er,en]=Y(K),es=e=>{let{__scopeSelect:t,children:r,open:a,defaultOpen:o,onOpenChange:l,value:i,defaultValue:c,onValueChange:d,dir:u,name:p,autoComplete:h,disabled:f,required:m,form:x}=e,v=Q(t),[g,j]=s.useState(null),[b,y]=s.useState(null),[S,N]=s.useState(!1),C=(0,w.jH)(u),[E=!1,T]=(0,H.i)({prop:a,defaultProp:o,onChange:l}),[k,P]=(0,H.i)({prop:i,defaultProp:c,onChange:d}),_=s.useRef(null),A=!g||x||!!g.closest("form"),[R,D]=s.useState(new Set),L=Array.from(R).map(e=>e.props.value).join(";");return(0,n.jsx)(M.bL,{...v,children:(0,n.jsxs)(ee,{required:m,scope:t,trigger:g,onTriggerChange:j,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:(0,z.B)(),value:k,onValueChange:P,open:E,onOpenChange:T,dir:C,triggerPointerDownPosRef:_,disabled:f,children:[(0,n.jsx)(J.Provider,{scope:t,children:(0,n.jsx)(er,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{D(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{D(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),A?(0,n.jsxs)(eU,{"aria-hidden":!0,required:m,tabIndex:-1,name:p,autoComplete:h,value:k,onChange:e=>P(e.target.value),disabled:f,form:x,children:[void 0===k?(0,n.jsx)("option",{value:""}):null,Array.from(R)]},L):null]})})};es.displayName=K;var ea="SelectTrigger",eo=s.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:a=!1,...o}=e,l=Q(r),i=et(ea,r),c=i.disabled||a,d=(0,j.s)(t,i.onTriggerChange),u=V(r),p=s.useRef("touch"),[h,f,m]=eq(e=>{let t=u().filter(e=>!e.disabled),r=t.find(e=>e.value===i.value),n=eB(t,e,r);void 0!==n&&i.onValueChange(n.value)}),x=e=>{c||(i.onOpenChange(!0),m()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,n.jsx)(M.Mz,{asChild:!0,...l,children:(0,n.jsx)(C.sG.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eH(i.value)?"":void 0,...o,ref:d,onClick:(0,v.m)(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&x(e)}),onPointerDown:(0,v.m)(o.onPointerDown,e=>{p.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:(0,v.m)(o.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),(!t||" "!==e.key)&&W.includes(e.key)&&(x(),e.preventDefault())})})})});eo.displayName=ea;var el="SelectValue",ei=s.forwardRef((e,t)=>{let{__scopeSelect:r,className:s,style:a,children:o,placeholder:l="",...i}=e,c=et(el,r),{onValueNodeHasChildrenChange:d}=c,u=void 0!==o,p=(0,j.s)(t,c.onValueNodeChange);return(0,U.N)(()=>{d(u)},[d,u]),(0,n.jsx)(C.sG.span,{...i,ref:p,style:{pointerEvents:"none"},children:eH(c.value)?(0,n.jsx)(n.Fragment,{children:l}):o})});ei.displayName=el;var ec=s.forwardRef((e,t)=>{let{__scopeSelect:r,children:s,...a}=e;return(0,n.jsx)(C.sG.span,{"aria-hidden":!0,...a,ref:t,children:s||"â–¼"})});ec.displayName="SelectIcon";var ed=e=>(0,n.jsx)(F.Z,{asChild:!0,...e});ed.displayName="SelectPortal";var eu="SelectContent",ep=s.forwardRef((e,t)=>{let r=et(eu,e.__scopeSelect),[a,o]=s.useState();return((0,U.N)(()=>{o(new DocumentFragment)},[]),r.open)?(0,n.jsx)(em,{...e,ref:t}):a?i.createPortal((0,n.jsx)(eh,{scope:e.__scopeSelect,children:(0,n.jsx)(J.Slot,{scope:e.__scopeSelect,children:(0,n.jsx)("div",{children:e.children})})}),a):null});ep.displayName=eu;var[eh,ef]=Y(eu),em=s.forwardRef((e,t)=>{let{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:i,side:c,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:b,...w}=e,C=et(eu,r),[E,T]=s.useState(null),[k,P]=s.useState(null),A=(0,j.s)(t,e=>T(e)),[R,D]=s.useState(null),[L,I]=s.useState(null),z=V(r),[M,F]=s.useState(!1),H=s.useRef(!1);s.useEffect(()=>{if(E)return(0,B.Eq)(E)},[E]),s.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N()),document.body.insertAdjacentElement("beforeend",e[1]??N()),S++,()=>{1===S&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),S--}},[]);let U=s.useCallback(e=>{let[t,...r]=z().map(e=>e.ref.current),[n]=r.slice(-1),s=document.activeElement;for(let r of e)if(r===s||(r?.scrollIntoView({block:"nearest"}),r===t&&k&&(k.scrollTop=0),r===n&&k&&(k.scrollTop=k.scrollHeight),r?.focus(),document.activeElement!==s))return},[z,k]),q=s.useCallback(()=>U([R,E]),[U,R,E]);s.useEffect(()=>{M&&q()},[M,q]);let{onOpenChange:W,triggerPointerDownPosRef:$}=C;s.useEffect(()=>{if(E){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-($.current?.x??0)),y:Math.abs(Math.round(t.pageY)-($.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():E.contains(r.target)||W(!1),document.removeEventListener("pointermove",t),$.current=null};return null!==$.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[E,W,$]),s.useEffect(()=>{let e=()=>W(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[W]);let[K,J]=eq(e=>{let t=z().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=eB(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),X=s.useCallback((e,t,r)=>{let n=!H.current&&!r;(void 0!==C.value&&C.value===t||n)&&(D(e),n&&(H.current=!0))},[C.value]),Y=s.useCallback(()=>E?.focus(),[E]),Z=s.useCallback((e,t,r)=>{let n=!H.current&&!r;(void 0!==C.value&&C.value===t||n)&&I(e)},[C.value]),Q="popper"===a?ev:ex,ee=Q===ev?{side:c,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:b}:{};return(0,n.jsx)(eh,{scope:r,content:E,viewport:k,onViewportChange:P,itemRefCallback:X,selectedItem:R,onItemLeave:Y,itemTextRefCallback:Z,focusSelectedItem:q,selectedItemText:L,position:a,isPositioned:M,searchRef:K,children:(0,n.jsx)(G.A,{as:O.DX,allowPinchZoom:!0,children:(0,n.jsx)(_,{asChild:!0,trapped:C.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,v.m)(o,e=>{C.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,n.jsx)(y.qW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:(0,n.jsx)(Q,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:e=>e.preventDefault(),...w,...ee,onPlaced:()=>F(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:(0,v.m)(w.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||J(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=z().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>U(t)),e.preventDefault()}})})})})})})});em.displayName="SelectContentImpl";var ex=s.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:a,...o}=e,l=et(eu,r),i=ef(eu,r),[c,d]=s.useState(null),[u,p]=s.useState(null),h=(0,j.s)(t,e=>p(e)),f=V(r),m=s.useRef(!1),v=s.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:y}=i,S=s.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&u&&g&&b&&w){let e=l.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),n=w.getBoundingClientRect();if("rtl"!==l.dir){let s=n.left-t.left,a=r.left-s,o=e.left-a,l=e.width+o,i=Math.max(l,t.width),d=window.innerWidth-10,u=(0,x.q)(a,[10,Math.max(10,d-i)]);c.style.minWidth=l+"px",c.style.left=u+"px"}else{let s=t.right-n.right,a=window.innerWidth-r.right-s,o=window.innerWidth-e.right-a,l=e.width+o,i=Math.max(l,t.width),d=window.innerWidth-10,u=(0,x.q)(a,[10,Math.max(10,d-i)]);c.style.minWidth=l+"px",c.style.right=u+"px"}let s=f(),o=window.innerHeight-20,i=g.scrollHeight,d=window.getComputedStyle(u),p=parseInt(d.borderTopWidth,10),h=parseInt(d.paddingTop,10),v=parseInt(d.borderBottomWidth,10),j=p+h+i+parseInt(d.paddingBottom,10)+v,y=Math.min(5*b.offsetHeight,j),S=window.getComputedStyle(g),N=parseInt(S.paddingTop,10),C=parseInt(S.paddingBottom,10),E=e.top+e.height/2-10,T=b.offsetHeight/2,k=p+h+(b.offsetTop+T);if(k<=E){let e=s.length>0&&b===s[s.length-1].ref.current;c.style.bottom="0px";let t=Math.max(o-E,T+(e?C:0)+(u.clientHeight-g.offsetTop-g.offsetHeight)+v);c.style.height=k+t+"px"}else{let e=s.length>0&&b===s[0].ref.current;c.style.top="0px";let t=Math.max(E,p+g.offsetTop+(e?N:0)+T);c.style.height=t+(j-k)+"px",g.scrollTop=k-E+g.offsetTop}c.style.margin="10px 0",c.style.minHeight=y+"px",c.style.maxHeight=o+"px",a?.(),requestAnimationFrame(()=>m.current=!0)}},[f,l.trigger,l.valueNode,c,u,g,b,w,l.dir,a]);(0,U.N)(()=>S(),[S]);let[N,E]=s.useState();(0,U.N)(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);let T=s.useCallback(e=>{e&&!0===v.current&&(S(),y?.(),v.current=!1)},[S,y]);return(0,n.jsx)(eg,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:(0,n.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,n.jsx)(C.sG.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});ex.displayName="SelectItemAlignedPosition";var ev=s.forwardRef((e,t)=>{let{__scopeSelect:r,align:s="start",collisionPadding:a=10,...o}=e,l=Q(r);return(0,n.jsx)(M.UC,{...l,...o,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ev.displayName="SelectPopperPosition";var[eg,ej]=Y(eu,{}),eb="SelectViewport",ew=s.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:a,...o}=e,l=ef(eb,r),i=ej(eb,r),c=(0,j.s)(t,l.onViewportChange),d=s.useRef(0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,n.jsx)(J.Slot,{scope:r,children:(0,n.jsx)(C.sG.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:(0,v.m)(o.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=i;if(n?.current&&r){let e=Math.abs(d.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,s=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(s<n){let a=s+e,o=Math.min(n,a),l=a-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});ew.displayName=eb;var ey="SelectGroup",[eS,eN]=Y(ey);s.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,a=(0,z.B)();return(0,n.jsx)(eS,{scope:r,id:a,children:(0,n.jsx)(C.sG.div,{role:"group","aria-labelledby":a,...s,ref:t})})}).displayName=ey;var eC="SelectLabel";s.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,a=eN(eC,r);return(0,n.jsx)(C.sG.div,{id:a.id,...s,ref:t})}).displayName=eC;var eE="SelectItem",[eT,ek]=Y(eE),eP=s.forwardRef((e,t)=>{let{__scopeSelect:r,value:a,disabled:o=!1,textValue:l,...i}=e,c=et(eE,r),d=ef(eE,r),u=c.value===a,[p,h]=s.useState(l??""),[f,m]=s.useState(!1),x=(0,j.s)(t,e=>d.itemRefCallback?.(e,a,o)),g=(0,z.B)(),b=s.useRef("touch"),w=()=>{o||(c.onValueChange(a),c.onOpenChange(!1))};if(""===a)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,n.jsx)(eT,{scope:r,value:a,disabled:o,textId:g,isSelected:u,onItemTextChange:s.useCallback(e=>{h(t=>t||(e?.textContent??"").trim())},[]),children:(0,n.jsx)(J.ItemSlot,{scope:r,value:a,disabled:o,textValue:p,children:(0,n.jsx)(C.sG.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:x,onFocus:(0,v.m)(i.onFocus,()=>m(!0)),onBlur:(0,v.m)(i.onBlur,()=>m(!1)),onClick:(0,v.m)(i.onClick,()=>{"mouse"!==b.current&&w()}),onPointerUp:(0,v.m)(i.onPointerUp,()=>{"mouse"===b.current&&w()}),onPointerDown:(0,v.m)(i.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,v.m)(i.onPointerMove,e=>{b.current=e.pointerType,o?d.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,v.m)(i.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:(0,v.m)(i.onKeyDown,e=>{(d.searchRef?.current===""||" "!==e.key)&&($.includes(e.key)&&w()," "===e.key&&e.preventDefault())})})})})});eP.displayName=eE;var e_="SelectItemText",eA=s.forwardRef((e,t)=>{let{__scopeSelect:r,className:a,style:o,...l}=e,c=et(e_,r),d=ef(e_,r),u=ek(e_,r),p=en(e_,r),[h,f]=s.useState(null),m=(0,j.s)(t,e=>f(e),u.onItemTextChange,e=>d.itemTextRefCallback?.(e,u.value,u.disabled)),x=h?.textContent,v=s.useMemo(()=>(0,n.jsx)("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=p;return(0,U.N)(()=>(g(v),()=>b(v)),[g,b,v]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.sG.span,{id:u.textId,...l,ref:m}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?i.createPortal(l.children,c.valueNode):null]})});eA.displayName=e_;var eR="SelectItemIndicator",eD=s.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e;return ek(eR,r).isSelected?(0,n.jsx)(C.sG.span,{"aria-hidden":!0,...s,ref:t}):null});eD.displayName=eR;var eL="SelectScrollUpButton",eI=s.forwardRef((e,t)=>{let r=ef(eL,e.__scopeSelect),a=ej(eL,e.__scopeSelect),[o,l]=s.useState(!1),i=(0,j.s)(t,a.onScrollButtonChange);return(0,U.N)(()=>{if(r.viewport&&r.isPositioned){let e=function(){l(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,n.jsx)(eF,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eI.displayName=eL;var ez="SelectScrollDownButton",eM=s.forwardRef((e,t)=>{let r=ef(ez,e.__scopeSelect),a=ej(ez,e.__scopeSelect),[o,l]=s.useState(!1),i=(0,j.s)(t,a.onScrollButtonChange);return(0,U.N)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,n.jsx)(eF,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eM.displayName=ez;var eF=s.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:a,...o}=e,l=ef("SelectScrollButton",r),i=s.useRef(null),c=V(r),d=s.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return s.useEffect(()=>()=>d(),[d]),(0,U.N)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,n.jsx)(C.sG.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:(0,v.m)(o.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(a,50))}),onPointerMove:(0,v.m)(o.onPointerMove,()=>{l.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(a,50))}),onPointerLeave:(0,v.m)(o.onPointerLeave,()=>{d()})})});s.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e;return(0,n.jsx)(C.sG.div,{"aria-hidden":!0,...s,ref:t})}).displayName="SelectSeparator";var eO="SelectArrow";function eH(e){return""===e||void 0===e}s.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,a=Q(r),o=et(eO,r),l=ef(eO,r);return o.open&&"popper"===l.position?(0,n.jsx)(M.i3,{...a,...s,ref:t}):null}).displayName=eO;var eU=s.forwardRef((e,t)=>{let{value:r,...a}=e,o=s.useRef(null),l=(0,j.s)(t,o),i=function(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(i!==r&&t){let n=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(n)}},[i,r]),(0,n.jsx)(q.s,{asChild:!0,children:(0,n.jsx)("select",{...a,ref:l,defaultValue:r})})});function eq(e){let t=(0,E.c)(e),r=s.useRef(""),n=s.useRef(0),a=s.useCallback(e=>{let s=r.current+e;t(s),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),o=s.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function eB(e,t,r){var n,s;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=r?e.indexOf(r):-1,l=(n=e,s=Math.max(o,0),n.map((e,t)=>n[(s+t)%n.length]));1===a.length&&(l=l.filter(e=>e!==r));let i=l.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return i!==r?i:void 0}eU.displayName="BubbleSelect";var eG=r(36259);let eW=(0,eG.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),e$=(0,eG.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eK=(0,eG.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eJ=r(58792);function eV({...e}){return(0,n.jsx)(es,{"data-slot":"select",...e})}function eX({...e}){return(0,n.jsx)(ei,{"data-slot":"select-value",...e})}function eY({className:e,children:t,...r}){return(0,n.jsxs)(eo,{"data-slot":"select-trigger",className:(0,eJ.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[t,(0,n.jsx)(ec,{asChild:!0,children:(0,n.jsx)(eW,{className:"size-4 opacity-50"})})]})}function eZ({className:e,children:t,position:r="popper",...s}){return(0,n.jsx)(ed,{children:(0,n.jsxs)(ep,{"data-slot":"select-content",className:(0,eJ.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[(0,n.jsx)(e0,{}),(0,n.jsx)(ew,{className:(0,eJ.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,n.jsx)(e1,{})]})})}function eQ({className:e,children:t,...r}){return(0,n.jsxs)(eP,{"data-slot":"select-item",className:(0,eJ.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,n.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(eD,{children:(0,n.jsx)(e$,{className:"size-4"})})}),(0,n.jsx)(eA,{children:t})]})}function e0({className:e,...t}){return(0,n.jsx)(eI,{"data-slot":"select-scroll-up-button",className:(0,eJ.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,n.jsx)(eK,{className:"size-4"})})}function e1({className:e,...t}){return(0,n.jsx)(eM,{"data-slot":"select-scroll-down-button",className:(0,eJ.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,n.jsx)(eW,{className:"size-4"})})}var e2=r(73816);let e4=(0,e2.createServerReference)("7f62832f6c4f1d19ef6875fe07d088ffbac439cb70",e2.callServer,void 0,e2.findSourceMapURL,"preprocessDataset");var e9=r(83403),e8=r(55107),e3=r(79326),e7=r(26218),e6=r(60694),e5=r(83075),te=r(50292),tt="Checkbox",[tr,tn]=(0,e8.A)(tt),[ts,ta]=tr(tt);function to(e){let{__scopeCheckbox:t,checked:r,children:a,defaultChecked:o,disabled:l,form:i,name:c,onCheckedChange:d,required:u,value:p="on",internal_do_not_use_render:h}=e,[f,m]=(0,e7.i)({prop:r,defaultProp:o??!1,onChange:d,caller:tt}),[x,v]=s.useState(null),[g,j]=s.useState(null),b=s.useRef(!1),w=!x||!!i||!!x.closest("form"),y={checked:f,disabled:l,setChecked:m,control:x,setControl:v,name:c,form:i,value:p,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:!tf(o)&&o,isFormControl:w,bubbleInput:g,setBubbleInput:j};return(0,n.jsx)(ts,{scope:t,...y,children:"function"==typeof h?h(y):a})}var tl="CheckboxTrigger",ti=s.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},o)=>{let{control:l,value:i,disabled:c,checked:d,required:u,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:x}=ta(tl,e),v=(0,e9.s)(o,p),g=s.useRef(d);return s.useEffect(()=>{let e=l?.form;if(e){let t=()=>h(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,h]),(0,n.jsx)(te.sG.button,{type:"button",role:"checkbox","aria-checked":tf(d)?"mixed":d,"aria-required":u,"data-state":tm(d),"data-disabled":c?"":void 0,disabled:c,value:i,...a,ref:v,onKeyDown:(0,e3.m)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,e3.m)(r,e=>{h(e=>!!tf(e)||!e),x&&m&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});ti.displayName=tl;var tc=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:a,defaultChecked:o,required:l,disabled:i,value:c,onCheckedChange:d,form:u,...p}=e;return(0,n.jsx)(to,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:i,required:l,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ti,{...p,ref:t,__scopeCheckbox:r}),e&&(0,n.jsx)(th,{__scopeCheckbox:r})]})})});tc.displayName=tt;var td="CheckboxIndicator",tu=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,o=ta(td,r);return(0,n.jsx)(e5.C,{present:s||tf(o.checked)||!0===o.checked,children:(0,n.jsx)(te.sG.span,{"data-state":tm(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});tu.displayName=td;var tp="CheckboxBubbleInput",th=s.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:a,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:i,required:c,disabled:d,name:u,value:p,form:h,bubbleInput:f,setBubbleInput:m}=ta(tp,e),x=(0,e9.s)(r,m),v=function(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(l),g=function(e){let[t,r]=s.useState(void 0);return(0,e6.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(a);s.useEffect(()=>{if(!f)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(v!==l&&e){let r=new Event("click",{bubbles:t});f.indeterminate=tf(l),e.call(f,!tf(l)&&l),f.dispatchEvent(r)}},[f,v,l,o]);let j=s.useRef(!tf(l)&&l);return(0,n.jsx)(te.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??j.current,required:c,disabled:d,name:u,value:p,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function tf(e){return"indeterminate"===e}function tm(e){return tf(e)?"indeterminate":e?"checked":"unchecked"}function tx({className:e,...t}){return(0,n.jsx)(tc,{"data-slot":"checkbox",className:(0,eJ.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,n.jsx)(tu,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,n.jsx)(e$,{className:"size-3.5"})})})}function tv(){let{pending:e}=(0,i.useFormStatus)();return(0,n.jsx)(u.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function tg({index:e,preprocessors:t,preprocessorInputs:r,setPreprocessorInputs:s}){return(0,n.jsx)("div",{className:"my-4",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"preprocessor-name-"+e,children:"Name"}),(0,n.jsxs)(eV,{required:!0,value:r[e].name,onValueChange:t=>s(r.map((r,n)=>n===e?{...r,name:t}:r)),children:[(0,n.jsx)(eY,{className:"col-span-3",children:(0,n.jsx)(eX,{placeholder:"Select a preprocessor"})}),(0,n.jsx)(eZ,{className:"col-span-3",children:t.map(e=>(0,n.jsx)(eQ,{value:e,children:e},e))})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"preprocessor-params-"+e,children:"Params"}),(0,n.jsx)(h.p,{id:"preprocessor-params-"+e,className:"col-span-3",placeholder:'{"max_length": 512}',required:!0,value:r[e].params,onChange:t=>s(r.map((r,n)=>n===e?{...r,params:t.target.value}:r))})]})]})})}function tj({datasetId:e,shardsets:t,preprocessors:r,children:i}){let[x,v]=(0,s.useState)(""),[g,j]=(0,s.useState)([]),[b,w]=(0,s.useState)([]),[y,S]=(0,s.useState)([]),[N,C]=(0,s.useState)(1),[E,T]=(0,s.useState)(!1),[k,P]=(0,s.useState)(!1),[_,A]=(0,s.useState)(!1),R=(0,s.useRef)(null),D=()=>{v(""),j([]),w([]),S([]),C(1),R.current?.reset()},L=async t=>{let r="";try{let e=g.map(e=>({name:e.name,params:JSON.parse(e.params)}));r=JSON.stringify(e)}catch(e){l.oR.error("Invalid preprocessor params");return}let n=await e4(e,x,b,r,y,N,E,k);n.success?(l.oR.success("Started preprocessing"),A(!1),D()):l.oR.error(`Failed to start preprocessing: ${n.error}`)};return 0===r.length?(0,n.jsxs)(p.lG,{open:_,onOpenChange:A,children:[(0,n.jsx)(p.zM,{asChild:!0,children:i}),(0,n.jsx)(p.Cf,{className:"sm:max-w-[600px]",children:(0,n.jsxs)(p.c7,{children:[(0,n.jsx)(p.L3,{children:"No preprocessors found!"}),(0,n.jsx)(p.rr,{children:"Please create a preprocessor first."})]})})]}):(0,n.jsxs)(p.lG,{open:_,onOpenChange:A,children:[(0,n.jsx)(p.zM,{asChild:!0,children:i}),(0,n.jsxs)(p.Cf,{className:"sm:max-w-[600px]",children:[(0,n.jsxs)(p.c7,{children:[(0,n.jsx)(p.L3,{children:"Preprocess"}),(0,n.jsx)(p.rr,{children:"Generate a new shardset by preprocessing the dataset."})]}),(0,n.jsxs)("form",{ref:R,action:L,children:[(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsx)("div",{className:"text-lg mt-2",children:"Source"}),b.map((e,r)=>(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"source",className:"text-right",children:"Shardset"}),(0,n.jsxs)(eV,{name:"source",required:!0,value:e,onValueChange:e=>w(t=>{let n=[...t];return n[r]=e,n}),children:[(0,n.jsx)(eY,{className:"col-span-3",children:(0,n.jsx)(eX,{placeholder:"Select a source"})}),(0,n.jsx)(eZ,{className:"col-span-3",children:t.map(e=>(0,n.jsx)(eQ,{value:e.id,disabled:b.includes(e.id),children:e.location},e.id))})]})]},`sourceShardset-${r}`)),b.length<t.length&&(0,n.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>w([...b,""]),children:[(0,n.jsx)(a.A,{}),"Add Source Shardset"]}),(0,n.jsxs)("div",{className:"text-lg mt-2 flex gap-2 items-center",children:[(0,n.jsx)("div",{children:"Preprocessors"}),(0,n.jsx)(m.F,{icon:(0,n.jsx)(o.A,{className:"w-4 h-4"}),content:(0,n.jsx)("p",{})})]}),(0,n.jsx)(c.F,{className:"max-h-[200px]",children:g.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(tg,{index:t,preprocessors:r,preprocessorInputs:g,setPreprocessorInputs:j}),(0,n.jsx)(d.w,{className:"my-2"})]},t))}),(0,n.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>j([...g,{name:"",params:"{}"}]),children:[(0,n.jsx)(a.A,{}),"Add Preprocessor"]})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsx)("div",{className:"text-lg mt-2",children:"Configuration"}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"location",className:"text-right",children:"Batch Size"}),(0,n.jsx)(h.p,{id:"batch_size",name:"batch_size",type:"number",className:"col-span-3",placeholder:"100",required:!0,value:N,onChange:e=>C(Number(e.target.value))})]})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsx)("div",{className:"text-lg mt-2",children:"Output"}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"location",className:"text-right",children:"Location"}),(0,n.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"s3://bucket/path/to/shardset/",required:!0,value:x,onChange:e=>v(e.target.value)})]}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"location",className:"text-right",children:"Overwrite"}),(0,n.jsx)(tx,{id:"overwrite",name:"overwrite",checked:E,onCheckedChange:e=>T("indeterminate"!==e&&e)})]}),(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsx)(f.J,{htmlFor:"location",className:"text-right",children:"Drop Last"}),(0,n.jsx)(tx,{id:"drop_last",name:"drop_last",checked:k,onCheckedChange:e=>P("indeterminate"!==e&&e)})]}),y.map((e,t)=>(0,n.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,n.jsxs)(f.J,{htmlFor:"location",className:"text-right",children:["Export Column ",t+1]}),(0,n.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"new_column_name",required:!0,value:e,onChange:e=>S(r=>{let n=[...r];return n[t]=e.target.value,n})},`export-column-${t}`)]})),(0,n.jsxs)(u.$,{type:"button",variant:"outline",className:"",onClick:()=>S([...y,""]),children:[(0,n.jsx)(a.A,{}),"Add Export Column"]})]}),(0,n.jsx)(p.Es,{children:(0,n.jsx)(tv,{})})]})]})]})}th.displayName=tp},47996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r(63762),s=r(34169),a=r.n(s),o=r(42669);let l=(0,o.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var i=r(60056);let c=(0,o.A)("IterationCw",[["path",{d:"M4 10c0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8H4",key:"tuf4su"}],["polyline",{points:"8 22 4 18 8 14",key:"evkj9s"}]]);var d=r(92875),u=r(12170),p=r(21029),h=r.n(p),f=r(53941),m=r(37337);r(73163);var x=r(27270);function v({className:e,...t}){return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,x.cn)("mx-auto flex w-full justify-center",e),...t})}function g({className:e,...t}){return(0,n.jsx)("ul",{"data-slot":"pagination-content",className:(0,x.cn)("flex flex-row items-center gap-1",e),...t})}function j({...e}){return(0,n.jsx)("li",{"data-slot":"pagination-item",...e})}function b({className:e,isActive:t,size:r="icon",...s}){return(0,n.jsx)(a(),{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:(0,x.cn)((0,f.r)({variant:t?"outline":"ghost",size:r}),e),...s})}let w=(0,o.A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function y({centerButtonCount:e,totalPages:t,currentPage:r,pageHref:s}){let a=Math.max(0,Math.min(r-Math.floor(e/2),t-e)),o=Math.min(t,a+e),l=Array.from({length:o-a},(e,t)=>a+t);return(0,n.jsx)(v,{children:(0,n.jsxs)(g,{children:[a>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{children:(0,n.jsx)(b,{href:s(0),children:"1"})}),(0,n.jsx)(j,{children:(0,n.jsx)(w,{className:"w-4"})})]}),l.map(e=>(0,n.jsx)(j,{children:(0,n.jsx)(b,{href:s(e),isActive:r===e,children:e+1})},e)),t>o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{children:(0,n.jsx)(w,{className:"w-4"})}),(0,n.jsx)(j,{children:(0,n.jsx)(b,{href:s(t-1),children:t})})]})]})})}var S=r(24324),N=r(61905),C=r(4495),E=r(74723),T=r(87388),k=r(63259),P=r(38338),_=r(26193),A=r(80273),R=r(54024);function D({shardset:e}){return e?(0,n.jsxs)(a(),{href:`/datasets/${e.dataset_id}/shardsets/${e.id}`,children:[(0,n.jsx)("div",{className:"font-mono text-xs",children:e.id}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:e.location}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:["total ",e.total_samples," samples, ",e.shard_count," shards"]})]}):(0,n.jsx)("div",{children:"-"})}async function L({dataset_id:e,preview_page:t}){let r=await (await (0,S.K)()).GET("/datasets/{dataset_id}/preview",{params:{path:{dataset_id:e},query:{offset:20*Number(t),limit:20}}}),s=r.data;if(!s)return(0,n.jsx)(E.ErrorCard,{error:`Preview is not available for this dataset. ${r?.error?.detail?r.error.detail:""}`});let a=Math.ceil(s.total/20),o=Number(t);return(0,n.jsxs)(k.Zp,{className:"w-full",children:[(0,n.jsx)(k.Wu,{className:"w-full",children:(0,n.jsxs)(m.XI,{children:[(0,n.jsx)(m.A0,{children:(0,n.jsx)(m.Hj,{children:s.columns.map(e=>(0,n.jsx)(m.nd,{children:e.name},e.id))})}),(0,n.jsx)(m.BF,{children:s.samples.map((e,t)=>(0,n.jsx)(m.Hj,{children:s.columns.map(t=>{let r;let s=e[t.name],a=null;return"object"==typeof s&&null!==s?r=JSON.stringify(s):"number"==typeof s?h()(s)?r=String(s):(r=s.toFixed(8),a=s.toFixed(2)):r=String(s),r.length>50&&(a=r.slice(0,50)+"..."),(0,n.jsx)(m.nA,{children:a?(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsx)("div",{children:a})}),(0,n.jsx)(T.TooltipContent,{className:"w-auto max-w-[500px] text-wrap break-all",children:r})]}):(0,n.jsx)("div",{children:r})},t.id)})},`preview-sample-${t}`))})]})}),(0,n.jsx)(k.wL,{className:"w-full flex justify-center",children:(0,n.jsx)(y,{centerButtonCount:5,totalPages:a,currentPage:o,pageHref:t=>`/datasets/${e}?tab=preview&preview_page=${t}`})})]})}async function I({params:e,searchParams:t}){let{dataset_id:r}=await e,{preview_page:s=0,tab:o="preview"}=await t,p=await (0,S.K)(),h=await p.GET("/datasets/{dataset_id}",{params:{path:{dataset_id:r}}}),x=await p.GET("/iterations/",{params:{query:{dataset_id:r}}}),v=await p.GET("/registries/preprocessors",{});if(h.error)return(0,n.jsx)(E.ErrorCard,{error:h.error.detail});if(x.error)return(0,n.jsx)(E.ErrorCard,{error:x.error.detail});if(!v.data)return(0,n.jsx)(E.ErrorCard,{error:v.error});let g=h.data,j=x.data,b=g.columns.filter(e=>e.name!==g.uid_column_name).map((e,t)=>({...e,rowSpan:1})).sort((e,t)=>e.shardset_id.localeCompare(t.shardset_id)||e.name.localeCompare(t.name)),w=0;return b.forEach((e,t)=>{e.shardset_id!==b[w].shardset_id?w=t:(b[t].rowSpan=0,b[w].rowSpan++)}),(0,n.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,n.jsx)(P.Qp,{className:"w-full pt-4",children:(0,n.jsxs)(P.AB,{children:[(0,n.jsx)(P.J5,{children:(0,n.jsx)(P.w1,{href:"/",children:"Home"})}),(0,n.jsx)(P.tH,{}),(0,n.jsx)(P.J5,{children:(0,n.jsx)(P.w1,{href:"/datasets",children:"Datasets"})}),(0,n.jsx)(P.tH,{}),(0,n.jsx)(P.J5,{children:(0,n.jsx)(P.tJ,{children:g.id})})]})}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("div",{className:"text-lg",children:g.name}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:g.id})]}),(0,n.jsxs)(_.tU,{defaultValue:o,className:"w-full",children:[(0,n.jsxs)(_.j7,{children:[(0,n.jsx)(a(),{href:`/datasets/${r}?tab=preview`,children:(0,n.jsx)(_.Xi,{value:"preview",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(l,{className:"w-4 h-4"}),"Preview"]})})}),(0,n.jsx)(a(),{href:`/datasets/${r}?tab=shardsets`,children:(0,n.jsx)(_.Xi,{value:"shardsets",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(i.A,{className:"w-4 h-4"}),"Shardsets"]})})}),(0,n.jsx)(a(),{href:`/datasets/${r}?tab=iterations`,children:(0,n.jsx)(_.Xi,{value:"iterations",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(c,{className:"w-4 h-4"}),"Iterations"]})})}),(0,n.jsx)(a(),{href:`/datasets/${r}?tab=settings`,children:(0,n.jsx)(_.Xi,{value:"settings",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),"Settings"]})})})]}),(0,n.jsx)(_.av,{value:"preview",className:"flex flex-col gap-2",children:(0,n.jsx)(L,{dataset_id:r,preview_page:s})}),(0,n.jsxs)(_.av,{value:"shardsets",className:"flex flex-col gap-2",children:[(0,n.jsx)(k.Zp,{className:"w-full",children:(0,n.jsx)(k.Wu,{children:(0,n.jsxs)(m.XI,{children:[(0,n.jsx)(m.A0,{children:(0,n.jsxs)(m.Hj,{children:[(0,n.jsx)(m.nd,{children:"Shardset"}),(0,n.jsx)(m.nd,{className:"w-[100px]",children:"Name"}),(0,n.jsx)(m.nd,{children:"Type"}),(0,n.jsx)(m.nd,{children:"Description"})]})}),(0,n.jsxs)(m.BF,{children:[(0,n.jsxs)(m.Hj,{children:[(0,n.jsx)(m.nA,{children:"-"}),(0,n.jsx)(m.nA,{className:"font-mono text-xs",children:g.uid_column_name}),(0,n.jsx)(m.nA,{children:"-"}),(0,n.jsx)(m.nA,{children:"Unique identifier for each sample"})]}),b.map(e=>(0,n.jsxs)(m.Hj,{children:[e.rowSpan>0&&(0,n.jsx)(m.nA,{rowSpan:e.rowSpan,children:(0,n.jsx)(D,{shardset:g.shardsets.find(t=>t.id===e.shardset_id)})}),(0,n.jsx)(m.nA,{className:"font-mono text-xs",children:e.name}),(0,n.jsx)(m.nA,{children:e.type}),(0,n.jsx)(m.nA,{children:e.description})]},e.id))]})]})})}),(0,n.jsx)("div",{className:"w-full flex justify-end",children:(0,n.jsx)(N.AddShardsetDialog,{datasetId:r,children:(0,n.jsxs)(f.$,{variant:"outline",children:[(0,n.jsx)(u.A,{}),"Shardset"]})})})]}),(0,n.jsx)(_.av,{value:"iterations",children:(0,n.jsx)(k.Zp,{className:"w-full",children:(0,n.jsx)(k.Wu,{children:(0,n.jsxs)(m.XI,{children:[(0,n.jsx)(m.A0,{children:(0,n.jsxs)(m.Hj,{children:[(0,n.jsx)(m.nd,{children:"ID"}),(0,n.jsx)(m.nd,{children:"Total"}),(0,n.jsx)(m.nd,{children:"Config"}),(0,n.jsx)(m.nd,{children:"Created"})]})}),(0,n.jsx)(m.BF,{children:j.map(e=>(0,n.jsxs)(m.Hj,{children:[(0,n.jsx)(m.nA,{className:"font-mono text-xs",children:(0,n.jsx)(a(),{href:`/iterations/${e.id}`,children:e.id})}),(0,n.jsx)(m.nA,{children:(0,n.jsx)("div",{children:e.total})}),(0,n.jsxs)(m.nA,{className:"text-xs text-muted-foreground",children:[e.shuffle?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Shuffle seed: ",e.shuffle_seed]}),(0,n.jsxs)("div",{children:["Shuffle block size: ",e.shuffle_block_size]})]}):(0,n.jsx)("div",{children:"No shuffle"}),e.batch_size>0?(0,n.jsxs)("div",{children:["Batch size: ",e.batch_size]}):(0,n.jsx)("div",{children:"No batch"}),e.replication_pg?(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[e.replication_pg.length," pgs,"," ",e.replication_pg.reduce((e,t)=>e+t.length,0)," ","ranks"]})}):(0,n.jsx)("div",{children:"No replication"})]}),(0,n.jsx)(m.nA,{children:(0,C.v)(e.created_at)})]},e.id))})]})})})}),(0,n.jsx)(_.av,{value:"settings",className:"w-full max-w-[720px] flex flex-col gap-2 items-start",children:(0,n.jsx)(k.Zp,{className:"w-full",children:(0,n.jsxs)(k.Wu,{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-md",children:"Preprocess"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"Generate a new shardset by preprocessing the dataset."})]}),(0,n.jsx)(R.PreprocessDatasetDialog,{datasetId:r,shardsets:g.shardsets,preprocessors:v.data,children:(0,n.jsx)(f.$,{variant:"default",children:"Preprocess"})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-md",children:"Delete this dataset"}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action is irreversible."})]}),(0,n.jsx)(A.DeleteDatasetDialog,{datasetId:r,children:(0,n.jsx)(f.$,{variant:"destructive",children:"Delete this dataset"})})]})]})})})]})]})}},48535:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},54024:(e,t,r)=>{"use strict";r.d(t,{PreprocessDatasetDialog:()=>n});let n=(0,r(97666).registerClientReference)(function(){throw Error("Attempted to call PreprocessDatasetDialog() from the server but PreprocessDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/preprocess-dataset-dialog.tsx","PreprocessDatasetDialog")},54126:(e,t,r)=>{e.exports=r(42242).Symbol},55030:(e,t,r)=>{"use strict";r.d(t,{DeleteDatasetDialog:()=>c});var n=r(1176),s=r(16659),a=r(53552),o=r(73816);let l=(0,o.createServerReference)("4094a7f2a8f0acb746122cfcf899dca89af738a993",o.callServer,void 0,o.findSourceMapURL,"deleteDataset");var i=r(54006);function c({datasetId:e,children:t}){let r=(0,i.useRouter)(),o=async()=>{let t=await l(e);t.success?(s.oR.success("Dataset deleted successfully"),r.push("/datasets")):s.oR.error(`Failed to delete dataset: ${t.error}`)};return(0,n.jsxs)(a.Lt,{children:[(0,n.jsx)(a.tv,{asChild:!0,children:t}),(0,n.jsxs)(a.EO,{children:[(0,n.jsxs)(a.wd,{children:[(0,n.jsx)(a.r7,{children:"Are you absolutely sure?"}),(0,n.jsx)(a.$v,{children:"This action cannot be undone. This will permanently delete your dataset, related shardsets and iterations. Of course, actual data will not be affected."})]}),(0,n.jsxs)(a.ck,{children:[(0,n.jsx)(a.Zr,{children:"Cancel"}),(0,n.jsx)(a.Rx,{onClick:o,children:"Continue"})]})]})]})}},61905:(e,t,r)=>{"use strict";r.d(t,{AddShardsetDialog:()=>n});let n=(0,r(97666).registerClientReference)(function(){throw Error("Attempted to call AddShardsetDialog() from the server but AddShardsetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/add-shardset-dialog.tsx","AddShardsetDialog")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64684:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(36259).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},66595:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"4094a7f2a8f0acb746122cfcf899dca89af738a993":()=>i,"60d86ab8ab4f9e375fa5e2bd8815107c9eb0421d72":()=>l,"7f62832f6c4f1d19ef6875fe07d088ffbac439cb70":()=>c});var n=r(6104);r(86678);var s=r(19765),a=r(73749),o=r(46594);async function l(e,t){let r=t.get("location"),n=t.get("columnsJson"),o=[];try{o=JSON.parse(n)}catch(e){return{success:!1,error:"Invalid column data"}}if(!r)return{success:!1,error:"Location is required"};if(o.some(e=>""===e.name))return{success:!1,error:"All columns must have a name"};if(o.some(e=>""===e.type))return{success:!1,error:"All columns must have a type"};try{let t=await (await (0,s.K)()).POST("/datasets/{dataset_id}/shardsets",{params:{path:{dataset_id:e}},body:{location:r,columns:o}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return(0,a.revalidatePath)(`/datasets/${e}`),{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}async function i(e){try{let t=await (await (0,s.K)()).DELETE("/datasets/{dataset_id}",{params:{path:{dataset_id:e}}});if(t.error)return{success:!1,error:t.error.detail};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}async function c(e,t,r,n,a,o,l,i){let c=[];try{c=JSON.parse(n)}catch(e){return{success:!1,error:"Invalid preprocessors data"}}try{let n=await (await (0,s.K)()).POST("/datasets/{dataset_id}/preprocess",{params:{path:{dataset_id:e}},body:{shardset_location:t,source_shardset_ids:r,preprocessors:c,export_columns:a,batch_size:o,overwrite:l,drop_last:i}});if(n.error){let e="Unknown error";return"string"==typeof n.error.detail&&(e=n.error.detail),{success:!1,error:e}}return{success:!0,data:n.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,o.D)([l]),(0,n.A)(l,"60d86ab8ab4f9e375fa5e2bd8815107c9eb0421d72",null),(0,o.D)([i]),(0,n.A)(i,"4094a7f2a8f0acb746122cfcf899dca89af738a993",null),(0,o.D)([c]),(0,n.A)(c,"7f62832f6c4f1d19ef6875fe07d088ffbac439cb70",null)},77869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var n=r(29666),s=r(3733),a=r(17837),o=r.n(a),l=r(93410),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let c={children:["",{children:["datasets",{children:["[dataset_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47996)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,38471)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,27795,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,80782,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92311,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/page",pathname:"/datasets/[dataset_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},80273:(e,t,r)=>{"use strict";r.d(t,{DeleteDatasetDialog:()=>n});let n=(0,r(97666).registerClientReference)(function(){throw Error("Attempted to call DeleteDatasetDialog() from the server but DeleteDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/delete-dataset-dialog.tsx","DeleteDatasetDialog")},82567:(e,t,r)=>{var n=r(54126),s=r(39466),a=r(30101),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?s(e):a(e)}},82797:(e,t,r)=>{var n=r(86519),s=1/0;e.exports=function(e){return e?(e=n(e))===s||e===-s?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},83169:(e,t,r)=>{"use strict";r.d(t,{F:()=>J});var n=r(1176),s=r(93929),a=r(47948),o=r(73819),l=r(14504),i=r(92438),c=r(73737),d=r(47441),u=r(3515),p=r(43314),h=r(20169),f="ScrollArea",[m,x]=(0,l.A)(f),[v,g]=m(f),j=s.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:o="hover",dir:l,scrollHideDelay:c=600,...u}=e,[p,h]=s.useState(null),[f,m]=s.useState(null),[x,g]=s.useState(null),[j,b]=s.useState(null),[w,y]=s.useState(null),[S,N]=s.useState(0),[C,E]=s.useState(0),[T,k]=s.useState(!1),[P,_]=s.useState(!1),A=(0,i.s)(t,e=>h(e)),R=(0,d.jH)(l);return(0,n.jsx)(v,{scope:r,type:o,dir:R,scrollHideDelay:c,scrollArea:p,viewport:f,onViewportChange:m,content:x,onContentChange:g,scrollbarX:j,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:k,scrollbarY:w,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:_,onCornerWidthChange:N,onCornerHeightChange:E,children:(0,n.jsx)(a.sG.div,{dir:R,...u,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});j.displayName=f;var b="ScrollAreaViewport",w=s.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:o,nonce:l,...c}=e,d=g(b,r),u=s.useRef(null),p=(0,i.s)(t,u,d.onViewportChange);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),(0,n.jsx)(a.sG.div,{"data-radix-scroll-area-viewport":"",...c,ref:p,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,n.jsx)("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});w.displayName=b;var y="ScrollAreaScrollbar",S=s.forwardRef((e,t)=>{let{forceMount:r,...a}=e,o=g(y,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=o,c="horizontal"===e.orientation;return s.useEffect(()=>(c?l(!0):i(!0),()=>{c?l(!1):i(!1)}),[c,l,i]),"hover"===o.type?(0,n.jsx)(N,{...a,ref:t,forceMount:r}):"scroll"===o.type?(0,n.jsx)(C,{...a,ref:t,forceMount:r}):"auto"===o.type?(0,n.jsx)(E,{...a,ref:t,forceMount:r}):"always"===o.type?(0,n.jsx)(T,{...a,ref:t}):null});S.displayName=y;var N=s.forwardRef((e,t)=>{let{forceMount:r,...a}=e,l=g(y,e.__scopeScrollArea),[i,c]=s.useState(!1);return s.useEffect(()=>{let e=l.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),c(!0)},n=()=>{t=window.setTimeout(()=>c(!1),l.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[l.scrollArea,l.scrollHideDelay]),(0,n.jsx)(o.C,{present:r||i,children:(0,n.jsx)(E,{"data-state":i?"visible":"hidden",...a,ref:t})})}),C=s.forwardRef((e,t)=>{var r;let{forceMount:a,...l}=e,i=g(y,e.__scopeScrollArea),c="horizontal"===e.orientation,d=W(()=>p("SCROLL_END"),100),[u,p]=(r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},s.useReducer((e,t)=>r[e][t]??e,"hidden"));return s.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>p("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,p]),s.useEffect(()=>{let e=i.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(p("SCROLL"),d()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[i.viewport,c,p,d]),(0,n.jsx)(o.C,{present:a||"hidden"!==u,children:(0,n.jsx)(T,{"data-state":"hidden"===u?"hidden":"visible",...l,ref:t,onPointerEnter:(0,h.m)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,h.m)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),E=s.forwardRef((e,t)=>{let r=g(y,e.__scopeScrollArea),{forceMount:a,...l}=e,[i,c]=s.useState(!1),d="horizontal"===e.orientation,u=W(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?e:t)}},10);return $(r.viewport,u),$(r.content,u),(0,n.jsx)(o.C,{present:a||i,children:(0,n.jsx)(T,{"data-state":i?"visible":"hidden",...l,ref:t})})}),T=s.forwardRef((e,t)=>{let{orientation:r="vertical",...a}=e,o=g(y,e.__scopeScrollArea),l=s.useRef(null),i=s.useRef(0),[c,d]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=H(c.viewport,c.content),p={...a,sizes:c,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function h(e,t){return function(e,t,r,n="ltr"){let s=U(r),a=t||s/2,o=r.scrollbar.paddingStart+a,l=r.scrollbar.size-r.scrollbar.paddingEnd-(s-a),i=r.content-r.viewport;return B([o,l],"ltr"===n?[0,i]:[-1*i,0])(e)}(e,i.current,c,t)}return"horizontal"===r?(0,n.jsx)(k,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){let e=q(o.viewport.scrollLeft,c,o.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollLeft=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollLeft=h(e,o.dir))}}):"vertical"===r?(0,n.jsx)(P,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){let e=q(o.viewport.scrollTop,c);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollTop=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollTop=h(e))}}):null}),k=s.forwardRef((e,t)=>{let{sizes:r,onSizesChange:a,...o}=e,l=g(y,e.__scopeScrollArea),[c,d]=s.useState(),u=s.useRef(null),p=(0,i.s)(t,u,l.onScrollbarXChange);return s.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),(0,n.jsx)(R,{"data-orientation":"horizontal",...o,ref:p,sizes:r,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(l.viewport){let n=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:O(c.paddingLeft),paddingEnd:O(c.paddingRight)}})}})}),P=s.forwardRef((e,t)=>{let{sizes:r,onSizesChange:a,...o}=e,l=g(y,e.__scopeScrollArea),[c,d]=s.useState(),u=s.useRef(null),p=(0,i.s)(t,u,l.onScrollbarYChange);return s.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),(0,n.jsx)(R,{"data-orientation":"vertical",...o,ref:p,sizes:r,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(l.viewport){let n=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:O(c.paddingTop),paddingEnd:O(c.paddingBottom)}})}})}),[_,A]=m(y),R=s.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:o,hasThumb:l,onThumbChange:d,onThumbPointerUp:u,onThumbPointerDown:p,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:x,onResize:v,...j}=e,b=g(y,r),[w,S]=s.useState(null),N=(0,i.s)(t,e=>S(e)),C=s.useRef(null),E=s.useRef(""),T=b.viewport,k=o.content-o.viewport,P=(0,c.c)(x),A=(0,c.c)(f),R=W(v,10);function D(e){C.current&&m({x:e.clientX-C.current.left,y:e.clientY-C.current.top})}return s.useEffect(()=>{let e=e=>{let t=e.target;w?.contains(t)&&P(e,k)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[T,w,k,P]),s.useEffect(A,[o,A]),$(w,R),$(b.content,R),(0,n.jsx)(_,{scope:r,scrollbar:w,hasThumb:l,onThumbChange:(0,c.c)(d),onThumbPointerUp:(0,c.c)(u),onThumbPositionChange:A,onThumbPointerDown:(0,c.c)(p),children:(0,n.jsx)(a.sG.div,{...j,ref:N,style:{position:"absolute",...j.style},onPointerDown:(0,h.m)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),C.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),D(e))}),onPointerMove:(0,h.m)(e.onPointerMove,D),onPointerUp:(0,h.m)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),C.current=null})})})}),D="ScrollAreaThumb",L=s.forwardRef((e,t)=>{let{forceMount:r,...s}=e,a=A(D,e.__scopeScrollArea);return(0,n.jsx)(o.C,{present:r||a.hasThumb,children:(0,n.jsx)(I,{ref:t,...s})})}),I=s.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:o,...l}=e,c=g(D,r),d=A(D,r),{onThumbPositionChange:u}=d,p=(0,i.s)(t,e=>d.onThumbChange(e)),f=s.useRef(void 0),m=W(()=>{f.current&&(f.current(),f.current=void 0)},100);return s.useEffect(()=>{let e=c.viewport;if(e){let t=()=>{m(),f.current||(f.current=G(e,u),u())};return u(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,m,u]),(0,n.jsx)(a.sG.div,{"data-state":d.hasThumb?"visible":"hidden",...l,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,h.m)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;d.onThumbPointerDown({x:r,y:n})}),onPointerUp:(0,h.m)(e.onPointerUp,d.onThumbPointerUp)})});L.displayName=D;var z="ScrollAreaCorner",M=s.forwardRef((e,t)=>{let r=g(z,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&s?(0,n.jsx)(F,{...e,ref:t}):null});M.displayName=z;var F=s.forwardRef((e,t)=>{let{__scopeScrollArea:r,...o}=e,l=g(z,r),[i,c]=s.useState(0),[d,u]=s.useState(0),p=!!(i&&d);return $(l.scrollbarX,()=>{let e=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(e),u(e)}),$(l.scrollbarY,()=>{let e=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(e),c(e)}),p?(0,n.jsx)(a.sG.div,{...o,ref:t,style:{width:i,height:d,position:"absolute",right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:0,...e.style}}):null});function O(e){return e?parseInt(e,10):0}function H(e,t){let r=e/t;return isNaN(r)?0:r}function U(e){let t=H(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function q(e,t,r="ltr"){let n=U(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=(0,p.q)(e,"ltr"===r?[0,o]:[-1*o,0]);return B([0,o],[0,a-n])(l)}function B(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var G=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){let a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function W(e,t){let r=(0,c.c)(e),n=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),s.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function $(e,t){let r=(0,c.c)(t);(0,u.N)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}var K=r(58792);function J({className:e,children:t,...r}){return(0,n.jsxs)(j,{"data-slot":"scroll-area",className:(0,K.cn)("relative",e),...r,children:[(0,n.jsx)(w,{"data-slot":"scroll-area-viewport",className:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1",children:t}),(0,n.jsx)(V,{}),(0,n.jsx)(M,{})]})}function V({className:e,orientation:t="vertical",...r}){return(0,n.jsx)(S,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,K.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:(0,n.jsx)(L,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},86519:(e,t,r)=>{var n=r(2263),s=r(14668),a=r(41079),o=0/0,l=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=i.test(e);return r||c.test(e)?d(e.slice(2),r?2:8):l.test(e)?o:+e}},87388:(e,t,r)=>{"use strict";r.d(t,{Tooltip:()=>s,TooltipContent:()=>o,TooltipTrigger:()=>a});var n=r(97666);let s=(0,n.registerClientReference)(function(){throw Error("Attempted to call Tooltip() from the server but Tooltip is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/components/ui/tooltip.tsx","Tooltip"),a=(0,n.registerClientReference)(function(){throw Error("Attempted to call TooltipTrigger() from the server but TooltipTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/components/ui/tooltip.tsx","TooltipTrigger"),o=(0,n.registerClientReference)(function(){throw Error("Attempted to call TooltipContent() from the server but TooltipContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/components/ui/tooltip.tsx","TooltipContent");(0,n.registerClientReference)(function(){throw Error("Attempted to call TooltipProvider() from the server but TooltipProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/components/ui/tooltip.tsx","TooltipProvider")},88157:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(1176),s=r(15078);let a=({icon:e,content:t})=>(0,n.jsxs)(s.Tooltip,{children:[(0,n.jsx)(s.TooltipTrigger,{asChild:!0,children:e}),(0,n.jsx)(s.TooltipContent,{children:t})]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[829,559,762,723,376,479,586,861,900],()=>r(77869));module.exports=n})();